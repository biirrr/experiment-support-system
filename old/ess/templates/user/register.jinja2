{% extends 'ess:templates/layouts/backend/narrow.jinja2' %}

{% block title %}Experiment Support System | Sign up{% endblock title %}

{% block main %}
{% from 'ess:templates/macros/forms.jinja2' import field, csrf_token with context %}
<h1>Sign up</h1>
<form action="{{ 'user.register'|route_url }}" method="post">
  {{ csrf_token() }}
  {{ field('email', 'email', 'E-Mail Address') }}
  {{ field('name', 'text', 'Name') }}
  <div class="margin-top">
    <p class="{{ 'is-invalid-label' if 'icon' in errors else ''}}">Please select the image that looks most like a {{ selected_icon[1] }}:</p>
    <div class="verification">
      {% for idx, data in verification_icons %}
        <label><input type="radio" name="icon" value="{{ idx }}"/>{{ icon(data[0]) }}</label>
      {% endfor %}
    </div>
  </div>
  <div class="buttons">
    <ul>
      <li><a href="{{ 'root'|route_url }}" class="button clear">&larr; Don't sign up</a></li>
      <li><a href="{{ 'user.login'|route_url }}" class="button clear">Sign in</a></li>
    </ul>
    <ul>
      <li><button class="button primary">Sign up</button></li>
    </ul>
  </div>
</form>
{% endblock main %}
