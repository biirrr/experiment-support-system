(function(t){function e(e){for(var a,r,o=e[0],u=e[1],l=e[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);c&&c(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var u=s[o];0!==i[u]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={app:0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("cd49")},cd49:function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.progress>=0?s("div",{staticClass:"busy"},[s("progress",{attrs:{max:"100"},domProps:{value:t.progress}}),t.$store.state.ui.busy?s("div",{staticClass:"busy-overlay"}):t._e()]):t._e(),s("nav",[s("ul",{staticClass:"menu",attrs:{role:"menubar"}},[s("li",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedGroupId,expression:"selectedGroupId"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedGroupId=e.target.multiple?s:s[0]}}},t._l(t.questionTypeGroups,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.attributes.title))])})),0)])])]),t.selectedQuestionTypeGroup?s("main",{staticClass:"margin-top"},[s("table",[t._m(0),s("tbody",t._l(t.questionTypes,(function(e,a){return s("tr",{key:e.id},[s("th",{attrs:{scope:"row"}},[t._v(t._s(e.attributes.essSourceName))]),s("td",[s("div",{staticClass:"flex-container"},[s("div",{staticClass:"flex-child-auto"},[t.editing[e.id]?s("input",{directives:[{name:"model",rawName:"v-model",value:e.attributes.label,expression:"questionType.attributes.label"}],attrs:{type:"text"},domProps:{value:e.attributes.label},on:{input:function(s){s.target.composing||t.$set(e.attributes,"label",s.target.value)}}}):[t._v(" "+t._s(e.attributes.label)+" ")]],2),s("div",{staticClass:"flex-child-shrink"},[s("ul",{staticClass:"menu",attrs:{role:"menubar"}},[t.editing[e.id]?[s("li",{attrs:{role:"presentation"}},[s("a",{attrs:{role:"menuitem","aria-label":"Cancel editing the question type"},on:{click:function(s){return t.cancel(e)}}},[s("svg",{staticClass:"mdi icon alert",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}})])])]),s("li",{attrs:{role:"presentation"}},[s("a",{attrs:{role:"menuitem","aria-label":"Save the question type"},on:{click:function(s){return t.save(e)}}},[s("svg",{staticClass:"mdi icon success",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}})])])])]:s("li",{attrs:{role:"presentation"}},[s("a",{attrs:{role:"menuitem","aria-label":"Edit the question type label"},on:{click:function(s){return t.edit(e)}}},[s("svg",{staticClass:"mdi icon",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}})])])])],2)])])]),s("td",[s("div",{staticClass:"switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.attributes.essEnabled,expression:"questionType.attributes.essEnabled"}],staticClass:"switch-input",attrs:{id:"enabled."+e.id,type:"checkbox"},domProps:{checked:Array.isArray(e.attributes.essEnabled)?t._i(e.attributes.essEnabled,null)>-1:e.attributes.essEnabled},on:{change:[function(s){var a=e.attributes.essEnabled,i=s.target,n=!!i.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);i.checked?o<0&&t.$set(e.attributes,"essEnabled",a.concat([r])):o>-1&&t.$set(e.attributes,"essEnabled",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e.attributes,"essEnabled",n)},function(s){return t.save(e)}]}}),s("label",{staticClass:"switch-paddle",attrs:{for:"enabled."+e.id}},[s("span",{staticClass:"show-for-sr"},[t._v("Enable the question")])])])]),s("td",[s("ul",{staticClass:"menu",attrs:{role:"menubar"}},[t.canMoveUp(a)?s("li",{attrs:{role:"presentation"}},[s("a",{attrs:{role:"menuitem","aria-label":"Move up"},on:{click:function(e){return t.moveUp(a)}}},[s("svg",{staticClass:"mdi icon",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M15,20H9V12H4.16L12,4.16L19.84,12H15V20Z"}})])])]):s("li",{staticClass:"menu-text",attrs:{role:"presentation"}},[s("svg",{staticClass:"mdi icon medium-gray",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M15,20H9V12H4.16L12,4.16L19.84,12H15V20Z"}})])]),t.canMoveDown(a)?s("li",{attrs:{role:"presentation"}},[s("a",{attrs:{role:"menuitem","aria-label":"Move down"},on:{click:function(e){return t.moveDown(a)}}},[s("svg",{staticClass:"mdi icon",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M9,4H15V12H19.84L12,19.84L4.16,12H9V4Z"}})])])]):s("li",{staticClass:"menu-text",attrs:{role:"presentation"}},[s("svg",{staticClass:"mdi icon medium-gray",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M9,4H15V12H19.84L12,19.84L4.16,12H9V4Z"}})])])])])])})),0)])]):t._e()])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Name")]),s("th",[t._v("Label")]),s("th",[t._v("Enabled")]),s("th",[t._v("Action")])])])}],r=(s("a434"),s("07ac"),s("d4ec")),o=s("bee2"),u=s("262e"),l=s("2caf"),c=s("9ab4"),d=s("60a3"),p=s("bd0f"),v=s("4979"),b=s.n(v),f=function(t){Object(u["a"])(s,t);var e=Object(l["a"])(s);function s(){var t;return Object(r["a"])(this,s),t=e.apply(this,arguments),t.selectedGroupId="",t.editing={},t}return Object(o["a"])(s,[{key:"mounted",value:function(){var t=document.getElementById("QuestionsAdminConfig");if(t){var e=JSON.parse(t.innerHTML);e&&this.$store.dispatch("init",e)}}},{key:"canMoveUp",value:function(t){return t>0}},{key:"canMoveDown",value:function(t){return t<this.questionTypes.length-1}},{key:"cancel",value:function(t){d["b"].set(this.editing,t.id,!1),this.$store.dispatch("fetchSingle",{type:t.type,id:t.id})}},{key:"save",value:function(t){d["b"].set(this.editing,t.id,!1),this.$store.dispatch("saveSingle",t)}},{key:"edit",value:function(t){d["b"].set(this.editing,t.id,!0)}},{key:"moveUp",value:function(t){var e=this.selectedQuestionTypeGroup;if(e){var s=b()(e.relationships["question-types"].data),a=s.splice(t,1);s.splice(t-1,0,a[0]),e.relationships["question-types"].data=s,this.$store.dispatch("saveSingle",e)}}},{key:"moveDown",value:function(t){var e=this.selectedQuestionTypeGroup;if(e){var s=b()(e.relationships["question-types"].data),a=s.splice(t,1);s.splice(t+1,0,a[0]),e.relationships["question-types"].data=s,this.$store.dispatch("saveSingle",e)}}},{key:"progress",get:function(){return this.$store.state.ui.busyMaxCounter>0?100/this.$store.state.ui.busyMaxCounter*(this.$store.state.ui.busyMaxCounter-this.$store.state.ui.busyCounter):-1}},{key:"questionTypeGroups",get:function(){return this.$store.state.dataStore.data["question-type-groups"]?Object.values(this.$store.state.dataStore.data["question-type-groups"]):[]}},{key:"selectedQuestionTypeGroup",get:function(){return Object(p["getSingle"])(this.$store.dispatch,this.$store.state.dataStore,{type:"question-type-groups",id:this.selectedGroupId})}},{key:"questionTypes",get:function(){var t=this.selectedQuestionTypeGroup;return t?Object(p["getAll"])(this.$store.dispatch,this.$store.state.dataStore,t.relationships["question-types"].data):[]}}]),s}(d["b"]);f=Object(c["a"])([Object(d["a"])({components:{}})],f);var y=f,h=y,m=s("2877"),g=Object(m["a"])(h,i,n,!1,null,null,null),C=g.exports,w=(s("96cf"),s("1da1")),x=s("2f62");a["a"].use(x["a"]);var L=new x["a"].Store({state:{config:{dataStore:{apiBaseUrl:"",csrfToken:""}},ui:{busy:!1,busyCounter:0,busyMaxCounter:0}},mutations:{setConfig:function(t,e){t.config=e},setBusy:function(t,e){t.ui.busy=e,e?(t.ui.busyCounter=t.ui.busyCounter+1,t.ui.busyMaxCounter=t.ui.busyMaxCounter+1):t.ui.busyCounter=t.ui.busyCounter-1,0===t.ui.busyCounter&&(t.ui.busyMaxCounter=0)}},actions:{init:function(t,e){return Object(w["a"])(regeneratorRuntime.mark((function s(){var a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,i=t.dispatch,a("setConfig",e),s.next=4,i("fetchAll","question-type-groups");case 4:case"end":return s.stop()}}),s)})))()}},modules:{dataStore:p["dataStoreModule"]}});a["a"].config.productionTip=!1,new a["a"]({store:L,render:function(t){return t(C)}}).$mount("#app")}});
//# sourceMappingURL=app.js.map